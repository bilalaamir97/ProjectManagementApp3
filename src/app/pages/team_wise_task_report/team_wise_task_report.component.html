<!-- <div class=" header bg-danger pb-6"> -->
<div class=" header pb-6" style="background-color:#2596be;">

<div class=" container-fluid">
<div class=" header-body">
<div class=" row align-items-center py-4">
<div class=" col-lg-6 col-7">
<h6 class=" h2 text-white d-inline-block mb-0">Team Wise Task Report</h6>
<br>

</div>

</div>
</div>
</div>
</div>

<div class=" container-fluid mt--6">
        
<form
name="form"
(ngSubmit)="onSubmit()"
#f="ngForm"
novalidate
>

<div class=" card mb-4">
<!-- <div class=" card-header"><h3 class=" mb-0">Activity Wise Task Report</h3></div> -->

<div class=" card-body">
<div class="row">

<div class="col-lg-4">

<label class=" form-control-label" >Select From Date</label>
<input
type="date"
class="form-control"
id="from_date"
name="from_date"
required
[(ngModel)]="form.from_date" />

<br>
<!-- <a href="http://localhost:82/task_reports/team_wise_task_report" target="_blank"> -->
<button class="btn btn-secondary" type="button" (click)="onSubmit()">
Show Report
</button>
<!-- </a> -->
</div>

<div class="col-lg-4">

<label class=" form-control-label" >Select To Date</label>
<input
type="date"
class="form-control"
id="to_date"
name="to_date"
required
[(ngModel)]="form.to_date" />


</div>

<div class="col-lg-4">


</div>

</div>

</div>

</div>

</form>


<div class="row">
<div class="col">
<div class="card shadow">

<div class="table-responsive" class="table-responsive" id="pdfTable" #pdfTable>
<table class="table table-striped table-bordered display" id="contentToConvert">
<nav class="navbar" style="float: left;">
&nbsp;&nbsp;    

<button class="btn btn-secondary" (click)="downloadAsPDF()">Export To PDF</button>

</nav>

<tr>
<th colspan="7">Team</th>

</tr>

<ng-container *ngFor="let info of getData; let i = index;">

<tr style="font-weight: bold; " >

<td colspan="7">{{i + 1}} - Team: {{info.teamDesc}}</td>

</tr>

<thead>
<tr>    
<th colspan="3">Employee</th>
<th colspan="2">Department</th>
<th colspan="2">Activity</th>

</tr>
</thead>
    
<tbody>

<ng-container *ngFor="let tabledata of getDetailData; let a = index;" class='showme'  >

<tr *ngIf="info.id === tabledata.teamId" >

<td colspan="3" class="center" >{{a + 1}} {{tabledata.empName}}</td>
<td colspan="2" class="center" >{{tabledata.departmentDesc}}</td>
<td colspan="2" class="center" >{{tabledata.activityDesc}}</td>
</tr>

<thead *ngIf="info.id === tabledata.teamId">
<tr>    
<th colspan="1">Task Title</th>

<th colspan="1">Started</th>
<th colspan="1">Started Time</th>

<th colspan="1">Closed</th>
<th colspan="1">Closed Time</th>

<th colspan="1">Abandoned</th>
<th colspan="1">Completed</th>

</tr>
</thead>

<ng-container *ngFor="let tabledata2 of getDetailData2; let a2 = index;"  >

<tr *ngIf="tabledata.empId === tabledata2.empId && tabledata.activityId === tabledata2.activityId 
&& info.id === tabledata.teamId"  >

<td colspan="1" class="center" >{{tabledata2.taskDesc}}</td>
<td colspan="1" class="center" >{{tabledata2.started}}</td>
<td colspan="1" class="center" >{{tabledata2.startedTime}}</td>
<td colspan="1" class="center" >{{tabledata2.closed}}</td>
<td colspan="1" class="center" >{{tabledata2.closedTime}}</td>
<td colspan="1" class="center" >{{tabledata2.abandoned}}</td>
<td colspan="1" class="center" >{{tabledata2.completed}}</td>

</tr>

</ng-container>


</ng-container>

</tbody>

</ng-container>

</table>


</div>

</div>
</div>
</div>

</div>


    
